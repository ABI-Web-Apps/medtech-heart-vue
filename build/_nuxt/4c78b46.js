(window.webpackJsonp=window.webpackJsonp||[]).push([[1,5,6,8],{376:function(t,e,r){var content=r(382);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(24).default)("5a8b5aae",content,!0,{sourceMap:!1})},377:function(t,e,r){var content=r(385);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(24).default)("2f0c9a16",content,!0,{sourceMap:!1})},378:function(t,e,r){var content=r(387);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(24).default)("db077dbe",content,!0,{sourceMap:!1})},380:function(t,e,r){t.exports=r.p+"img/gestures-icons.104494d.png"},381:function(t,e,r){"use strict";r(376)},382:function(t,e,r){var n=r(23)(!1);n.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Helvetica&display=swap);"]),n.push([t.i,".outer-model[data-v-054255b6]{height:100%}.hidden-input[data-v-054255b6]{width:1px;height:1px}",""]),t.exports=n},383:function(t,e,r){t.exports=r.p+"img/kiwirous.992457b.png"},384:function(t,e,r){"use strict";r(377)},385:function(t,e,r){var n=r(23)(!1);n.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Helvetica&display=swap);"]),n.push([t.i,".slider[data-v-828a97ac]{width:100%}.kiwirous[data-v-828a97ac]{width:1.8rem;height:1.8rem}",""]),t.exports=n},386:function(t,e,r){"use strict";r(378)},387:function(t,e,r){var n=r(23)(!1);n.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Helvetica&display=swap);"]),n.push([t.i,"#ecgDescription[data-v-7d78a6e9],#lvpDescription[data-v-7d78a6e9]{width:90%}.item[data-v-7d78a6e9],.trace-box[data-v-7d78a6e9]{width:100%}",""]),t.exports=n},395:function(t,e,r){var content=r(409);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(24).default)("d82b4b3e",content,!0,{sourceMap:!1})},397:function(t,e,r){"use strict";r.r(e);r(40),r(33),r(55),r(62);var n={data:function(){return{heartRate:2500,threeDControlsHeight:0,zincRenderer:null,halfHeartFlag:!1,oldCam:null,modelToSceneArray:[],container:null,modelURLsArray:{NoInfarct_highres:["heartInfarct/noInfarct_highres_metadata.json","heartInfarct/noInfarct_view.json"],NormalElectricity_highres:["heartElectricity/normalActivity_highres_metadata.json","heartElectricity/normalActivity_view.json"],CompensatedFailure_highres:["heartFailure/compensated_highres_metadata.json","heartFailure/compensated_view.json"],SmallInfarct_highres:["heartInfarct/smallInfarct_highres_metadata.json","heartInfarct/smallInfarct_view.json"],LargeInfarct_highres:["heartInfarct/largeInfarct_highres_metadata.json","heartInfarct/largeInfarct_view.json"],ArrythmiaElectricity_highres:["heartElectricity/arrythmiaActivity_highres_metadata.json","heartElectricity/arrythmiaActivity_view.json"],DecompensatedFailure_highres:["heartFailure/decompensated_highres_metadata.json","heartFailure/decompensated_view.json"]}}},props:{totalHeight:{type:Number},availableHeight:{type:Number}},mounted:function(){this.start()},methods:{start:function(){this.container=this.$refs.zincDomObject,this.zincRenderer=this.$currentRender(),this.modelToSceneArray=this.$modelToSceneArray(),this.container&&(void 0===this.zincRenderer&&this.initialZinc(),this.zincRenderer.switchContainer(this.container),this.halfHeartFlag=this.$isHalfModel()),"NoInfarct"!==this.$model().name&&"SmallInfarct"!==this.$model().name&&"LargeInfarct"!==this.$model().name&&"CompensatedFailure"!==this.$model().name&&"DecompensatedFailure"!==this.$model().name&&"NormalElectricity"!==this.$model().name||(this.oldCam=this.$perviousCamera()),"ArrythmiaElectricity"===this.$model().name?this.loadModel(this.$model().name,.25):this.loadModel(this.$model().name,1),this.trackHalfModel(),this.heartRate=this.$heartBeat(),this.updateSlider(this.heartRate)},initialZinc:function(){this.zincRenderer=new Zinc.Renderer(this.container,window),Zinc.defaultMaterialColor=16777116,this.zincRenderer.initialiseVisualisation(),this.zincRenderer.getThreeJSRenderer().setClearColor(0,1);var t=this.zincRenderer.getSceneByName("default");this.zincRenderer.setCurrentScene(t);var e=this.zincRenderer;this.$store.commit("setZincRender",e),this.zincRenderer.animate()},loadModel:function(t,e){var r="_highres",n=this.modelURLsArray[t+r][0],o=this.modelURLsArray[t+r][1],l=this.zincRenderer.getSceneByName(t);if(null==l){(l=this.zincRenderer.createScene(t)).setDuration(l.getDuration()/e),l.loadViewURL(o),l.loadMetadataURL(n,this.meshReady(this.oldCam)),this.zincRenderer.setCurrentScene(l);var c={name:t,sceneObj:l};this.$store.commit("setModelToSceneArray",c),this.addLabel(this.$model().name)}else l.switchContainer(this.container),this.zincRenderer.setCurrentScene(l),this.shareCameraSettings(this.oldCam)},meshReady:function(t){var e=this;return function(r){r.groupName&&r.groupName.includes("Post")&&r.setVisibility(!e.halfHeartFlag),r.groupName&&r.groupName.includes("Fibres")&&r.setVisibility(!1),e.shareCameraSettings(t),e.zincRenderer.getCurrentScene().getZincCameraControls().updateAutoTumble()}},shareCameraSettings:function(t){if(null!==t&&null!==t.near&&void 0!==t.near){var e=this.zincRenderer.getCurrentScene().camera;e.near=t.near,e.far=t.far,e.position.copy(t.position),e.target=new THREE.Vector3(t.target.x,t.target.y,t.target.z),e.up.copy(t.up),this.zincRenderer.getCurrentScene().updateDirectionalLight()}},onResetAllModelsView:function(){for(var t in this.halfHeartFlag=!1,this.heartRate=2500,$nuxt.$emit("beat-reset",2500),this.$store.commit("setHeartBeat",2500),this.$store.commit("setIsHalfModel",!1),this.$store.commit("setPreviousCamera",null),this.modelToSceneArray)this.modelToSceneArray.hasOwnProperty(t)&&(this.modelToSceneArray[t].resetView(),this.modelToSceneArray[t].forEachGeometry(this.geometryShowHalf()))},trackHalfModel:function(){for(var t in this.modelToSceneArray)this.modelToSceneArray.hasOwnProperty(t)&&this.modelToSceneArray[t].forEachGeometry(this.geometryShowHalf())},updateSlider:function(t){this.zincRenderer.setPlayRate(t)},addLabel:function(t){var e=this.zincRenderer.getSceneByName(t);"NoInfarct"===t||"NormalElectricity"===t?(addLabelToScene(e,"right ventricle",-38.056679,35.639515,10.421283,60),addLabelToScene(e,"left ventricle",-48.056679,-5.639515,5.421283,60)):"SmallInfarct"===t?addLabelToScene(e,"damaged tissue",30,-50,0,60):"LargeInfarct"===t&&addLabelToScene(e,"damaged tissue",15,-55,0,60)},onHalfHeartPressed:function(){this.halfHeartFlag?(this.halfHeartFlag=!1,this.$store.commit("setIsHalfModel",!1)):(this.halfHeartFlag=!0,this.$store.commit("setIsHalfModel",!0)),this.showHalf()},showHalf:function(){this.zincRenderer.getCurrentScene().forEachGeometry(this.geometryShowHalf())},geometryShowHalf:function(){var t=this;return function(e){e.groupName&&e.groupName.includes("Post")&&e.setVisibility(!t.halfHeartFlag)}}},watch:{heartRate:function(t){this.updateSlider(t)}},created:function(){var t=this;this.$nuxt.$on("beat-update-onTime",(function(e){t.updateSlider(e)})),this.$nuxt.$on("beat-change",(function(e){t.heartRate=e,t.$store.commit("setHeartBeat",e)}))},beforeDestroy:function(){if(this.oldCam){var t=this.zincRenderer.getCurrentScene().camera,e=new THREE.Vector3,r=new THREE.Vector3,n=new THREE.Vector3;n.copy(t.target),e.copy(t.position),r.copy(t.up);var o={position:e,target:n,up:r,near:t.near,far:t.far};this.$store.commit("setPreviousCamera",o)}this.$nuxt.$off("beat-change")}},o=n,l=(r(381),r(42)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full h-full lg:h-screen"},[n("div",{staticClass:"w-full h-full flex flex-col justify-center items-center"},[n("div",{ref:"zincDomObject",staticClass:"w-full h-[400px] -mt-12 lg:h-screen lg:mt-0",attrs:{id:"zincDom"},on:{dblclick:t.onHalfHeartPressed}}),t._v(" "),n("div",{ref:"threeDControls",staticClass:"lg:fixed lg:bottom-0 lg:h-24 lg:ml-24 w-full h-full flex flex-row justify-center lg:mt-0 order-first lg:order-last"},[n("div",{staticClass:"ml-0 h-full w-2/5 lg:w-64 relative"},[n("button",{staticClass:"absolute top-0 left-0 w-1/5 h-full hover:bg-gray-50/10",on:{click:t.onResetAllModelsView}}),t._v(" "),n("img",{staticClass:"h-full w-full lg:object-contain",attrs:{src:r(380)}}),t._v(" "),n("button",{staticClass:"absolute top-0 right-0 w-1/4 h-full hover:bg-gray-50/10",on:{click:t.onHalfHeartPressed}})])])])])}),[],!1,null,"054255b6",null);e.default=component.exports},398:function(t,e,r){"use strict";r.r(e);var n=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-center font-weight-bold text-xl-h6 text-subtitle-2 text-sm-subtitle-2 text-md-body-1"},[n("div",{staticClass:"pr-2"},[t._v("Heart Rate")]),t._v(" "),n("div",[n("img",{staticClass:"kiwirous",attrs:{src:r(383)}})])])}],o={name:"HeartRate",data:function(){return{beat:2500}},mounted:function(){this.beat=this.$heartBeat()},methods:{sliderOnChange:function(t){$nuxt.$emit("beat-change",t)}},watch:{beat:function(t){t>2?t%2==0&&$nuxt.$emit("beat-update-onTime",t):$nuxt.$emit("beat-update-onTime",0)}},created:function(){var t=this;this.$nuxt.$on("beat-reset",(function(e){t.beat=e}))}},l=(r(384),r(42)),c=r(59),d=r.n(c),h=r(435),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"slider d-flex flex-column align-center"},[t._m(0),t._v(" "),r("v-slider",{staticClass:"slider",attrs:{dense:"",min:"0",max:"5000","thumb-color":"info","track-color":"secondary","track-fill-color":"secondary","hide-details":""},on:{change:function(e){return t.sliderOnChange(t.beat)}},model:{value:t.beat,callback:function(e){t.beat=e},expression:"beat"}}),t._v(" "),r("div",{staticClass:"text-caption text-sm-caption text-md-caption text-lg-body-2 text-xl-body-2 font-italic"},[t._v("\n    beats per minute\n  ")])],1)}),n,!1,null,"828a97ac",null);e.default=component.exports;d()(component,{VSlider:h.a})},399:function(t,e,r){"use strict";r.r(e);var n={data:function(){return{idleTime:0,idleTimeLimit:3e5,oldTime:new Date,render:void 0}},mounted:function(){window.ecgDone=!1,window.lvpDone=!1,ecgName=null,lvpName=null,loadChart(this.$ecg(),this.$lvp(),this.$category(),1),this.updateEcg()},methods:{updateEcg:function(){var t=this;if(this.render=this.$currentRender(),this.render){this.render.addPreRenderCallbackFunction((function(){var e=new Date;t.idleTime=t.idleTime+e.getTime()-t.oldTime.getTime(),t.oldTime=e;var r=t.render.getCurrentTime()/3e3;updateIndicator(r)}))}}}},o=(r(386),r(42)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex trace-box",class:t.$vuetify.breakpoint.smAndUp||t.$vuetify.breakpoint.width<=430?"flex-column":""},[r("div",{staticClass:"mt-4 lg:mt-0 flex flex-col items-center space-y-10 lg:space-y-4"},[r("div",{staticClass:"font-weight-bold text-subtitle-2 text-xl-h6 text-sm-subtitle-2 text-md-body-1"},[t._v("\n      ECG\n    ")]),t._v(" "),r("div",{ref:"rightECG",staticClass:"w-full h-24 lg:h-[100px]",attrs:{id:"rightECG"}}),t._v(" "),r("div",{staticClass:"text-caption text-xl-body-2",attrs:{id:"ecgDescription"}},[t._v("\n      "+t._s(t.$ecg().description)+"\n    ")])]),t._v(" "),r("div",{staticClass:"pt-4 pb-1 d-flex flex-column align-center item"},[r("div",{staticClass:"font-weight-bold text-subtitle-2 text-xl-h6 text-sm-subtitle-2 text-md-body-1"},[t._v("\n      Pressure (mmHg)\n    ")]),t._v(" "),r("div",{ref:"rightLVP",staticClass:"w-full h-24 lg:h-[100px]",attrs:{id:"rightLVP"}}),t._v(" "),r("div",{staticClass:"text-caption text-xl-body-2",attrs:{id:"lvpDescription"}},[t._v("\n      "+t._s(t.$lvp().description)+"\n    ")])])])}),[],!1,null,"7d78a6e9",null);e.default=component.exports},408:function(t,e,r){"use strict";r(395)},409:function(t,e,r){var n=r(23)(!1);n.push([t.i,"@import url(https://fonts.googleapis.com/css?family=Helvetica&display=swap);"]),n.push([t.i,".model-rate[data-v-042b773c]{position:relative;width:100%;text-align:center}.rate-mdAndUp[data-v-042b773c]{width:80%}.rate-smAndDown[data-v-042b773c]{position:absolute;bottom:20px;width:120px;left:2%}.logo-mdAndUp[data-v-042b773c]{width:70%;display:block}",""]),t.exports=n},433:function(t,e,r){"use strict";r.r(e);var n={data:function(){return{rightMostHeight:0,rateAndTracesHeight:0}},mounted:function(){this.getDomHeights()},updated:function(){this.getDomHeights()},computed:{rightContainerStyle:function(){if(this.$vuetify.breakpoint.mdAndUp)return{height:this.rightMostHeight+"px"}},traceMarginBottom:function(){return this.$vuetify.breakpoint.smAndDown?{margin:"auto",width:"90%","margin-bottom":"120px"}:{width:"100%"}}},methods:{getDomHeights:function(){this.rightMostHeight=this.$refs.rightMost.clientHeight,this.rateAndTracesHeight=this.$refs.rateAndTraces.clientHeight}}},o=(r(408),r(42)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"lg:h-screen"},[r("div",{ref:"rightMost",staticClass:"pa-0"},[r("div",{staticClass:"w-full h-auto"},[r("model"),t._v(" "),r("div",{staticClass:"mr-24 ml-4 d-flex d-sm-none"},[r("heart-rate")],1)],1),t._v(" "),r("div",{staticClass:"w-full lg:fixed top-0 right-0 lg:w-64 lg:h-full"},[r("div",{ref:"rateAndTraces",staticClass:"flex flex-col justify-around lg:h-full"},[r("div",{staticClass:"d-none d-sm-flex justify-center"},[r("div",{staticClass:"pb-1 rate-mdAndUp"},[r("heart-rate")],1)]),t._v(" "),r("div",{staticClass:"pt-5",style:t.traceMarginBottom},[r("traces")],1),t._v(" "),r("div",{staticClass:"d-none d-md-flex justify-center"},[r("div",{staticClass:"pt-4 pa-1 logo-mdAndUp lg:mt-10"},[r("logo")],1)])])])])])}),[],!1,null,"042b773c",null);e.default=component.exports;installComponents(component,{Model:r(397).default,HeartRate:r(398).default,Traces:r(399).default,Logo:r(256).default})}}]);